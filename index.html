  0%{transform:translateY(0)}
  50%{transform:translateY(-20px)}
  100%{transform:translateY(0)}
}

/* popup */
.popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.4);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:999;
}

.card{
  background:white;
  border-radius:20px;
  padding:15px;
  width:280px;
}

.card img{
  width:100%;
  border-radius:15px;
  margin-bottom:10px;
}

/* final background */
#screen4{
  background:url("bg-final.jpg") center/cover no-repeat;
}

/* letter */
.letter{
  background:rgba(255,255,255,.95);
  padding:25px;
  border-radius:20px;
  max-width:320px;
  color:#444;
}

/* memory collage */
.collage{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
  margin-top:25px;
}

.collage img{
  width:100%;
  height:140px;
  object-fit:cover;
  border-radius:15px;
  box-shadow:0 6px 15px rgba(0,0,0,.15);
  transition:transform .3s;
}

.collage img:hover,
.collage img:active{
  transform:scale(1.08);
}
</style>
</head>

<body>

<div id="progress">ğŸ’˜</div>

<!-- SCREEN 1 -->
<section class="center" id="screen1">
  <h1>Will you be my Valentine ğŸ’•</h1>
  <p id="reaction">My heart is waitingâ€¦ ğŸ’—</p>
  <div>
    <button id="yesBtn">YES â¤ï¸</button>
    <button id="noBtn">NO ğŸ’”</button>
  </div>
</section>

<!-- SCREEN 2 -->
<section class="center hidden" id="screen2">
  <h1>Yayyyy ğŸ˜</h1>
  <button onclick="startMagic()">Start the Magic âœ¨</button>
</section>

<!-- SCREEN 3 -->
<section class="center hidden" id="screen3">
  <h1>Pop the balloons ğŸˆ</h1>
  <div class="balloons">
    <div class="balloon" onclick="popBalloon(0)">ğŸˆ</div>
    <div class="balloon" onclick="popBalloon(1)">ğŸˆ</div>
    <div class="balloon" onclick="popBalloon(2)">ğŸˆ</div>
  </div>
</section>

<!-- SCREEN 4 -->
<section class="center hidden" id="screen4">
  <h1>Happy Valentineâ€™s Day ğŸ’Œ</h1>

  <div class="letter">
    <p id="finalText"></p>
  </div>

  <h2 style="margin-top:30px;">Our Memories ğŸ“¸</h2>
  <div class="collage">
    <img src="memory1.jpg">
    <img src="memory2.jpg">
    <img src="memory3.jpg">
    <img src="memory4.jpg">
  </div>
</section>

<script>
/* floating hearts */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="ğŸ’–";
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=Math.random()*18+14+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
},700);

/* logic */
let noCount=0;
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const reaction=document.getElementById("reaction");
const progress=document.getElementById("progress");

noBtn.onclick=()=>{
  noCount++;
  noBtn.style.transform=`translate(${Math.random()*200-100}px,${Math.random()*200-100}px)`;
  yesBtn.style.transform=`scale(${1+noCount*.2})`;
  reaction.innerText="Please say yes ğŸ¥º";
  if(noCount>5)noBtn.style.display="none";
};

yesBtn.onclick=()=>{
  progress.innerText="ğŸ‰";
  screen1.classList.add("hidden");
  screen2.classList.remove("hidden");
};

function startMagic(){
  progress.innerText="ğŸˆ";
  screen2.classList.add("hidden");
  screen3.classList.remove("hidden");
}

/* balloon game */
const data=[
  {img:"photo1.jpg",text:"You are my home â¤ï¸"},
  {img:"photo2.jpg",text:"My biggest blessing ğŸ’"},
  {img:"photo3.jpg",text:"Forever with you ğŸ’–"}
];

let left=3;
function popBalloon(i){
  event.target.innerText="ğŸ’¥";
  showPopup(data[i]);
  left--;
  if(left===0){
    setTimeout(()=>{
      progress.innerText="ğŸ’Œ";
      screen3.classList.add("hidden");
      screen4.classList.remove("hidden");
      typeWriter(
        "Loving you has always felt like home.\n\nThank you for being my heart, my calm, and my forever.\n\nI love you â€” always ğŸ’–"
      );
    },800);
  }
}

/* popup */
function showPopup(d){
  const p=document.createElement("div");
  p.className="popup";
  p.innerHTML=`
    <div class="card">
      <img src="${d.img}">
      <p>${d.text}</p>
      <button onclick="this.closest('.popup').remove()">Close</button>
    </div>`;
  document.body.appendChild(p);
}

/* typewriter */
function typeWriter(text){
  const el=document.getElementById("finalText");
  el.innerHTML="";
  let i=0;
  const t=setInterval(()=>{
    el.innerHTML+=text.charAt(i);
    i++;
    if(i>=text.length)clearInterval(t);
  },40);
}
</script>

</body>
</html>
